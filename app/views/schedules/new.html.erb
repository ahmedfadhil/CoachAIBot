<%= render 'activities/header' %>

<div class="mycard">
  <div class="activity-insert-card-wide mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title">
      <h2 class="mdl-card__title-text">Nuovo Orario per l'attivita'</h2>
    </div>


    <div class="mdl-card__supporting-text">

      <div class="insert-error-msg"><%= yield(:insert_error_msg) %></div>
      <%= form_for @schedule, url: schedules_path(:planning_id => @planning_id), method: 'post' do |f| %>

          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <%= f.text_field :date, class: 'mdl-textfield__input',
                             pattern: '^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$' %>
            <%= f.label :date, 'Data', class: 'mdl-textfield__label' %>
            <span class="mdl-textfield__error">Data nella forma GG/MM/AAAA oppure GG.MM.AAA oppure GG-MM-AAAA</span>
          </div>

          <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <%= f.text_field :time, class: 'mdl-textfield__input',
                             pattern: '^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$' %>
            <%= f.label :time, 'Ora', class: 'mdl-textfield__label' %>
            <span class="mdl-textfield__error">Ora nel formato 24h e HH:mm</span>
          </div>


          <br>
          <div class="activity-type">
            <%= f.label :day, 'Giorno: '%>
            <%= f.radio_button :day, '0', :checked => true %>
            <%= label :day, 'Lun' %>
            <%= f.radio_button :day, '1' %>
            <%= label :day, 'Mar' %>
            <%= f.radio_button :day, '2' %>
            <%= label :day, 'Mer' %>
            <%= f.radio_button :day, '3' %>
            <%= label :day, 'Gio' %>
            <%= f.radio_button :day, '4' %>
            <%= label :day, 'Ven' %>
            <%= f.radio_button :day, '5' %>
            <%= label :day, 'Sab' %>
            <%= f.radio_button :day, '6' %>
            <%= label :day, 'Dom' %>
          </div>

          <br>
          <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect" type="submit">
            <i class="material-icons">add</i> &nbsp Aggiungi orario all'attivita'
          </button>
      <% end %>
    </div>
  </div>
</div>