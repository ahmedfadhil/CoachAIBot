<%= render 'activities/header' %>

<% flash.each do |key, value| %>
    <div class="mdl-grid error-grid">
      <div class="mdl-cell mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
        <div class="alert alert"><%= value %></div>
      </div>
    </div>
<% end %>

<div class="mdl-grid new-activity-grid">
  <div class="mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone">
    <div class="all-activities-card">
      <div id="activity-insert-card-wide" class="mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title">
          <h2 class="mdl-card__title-text">Qui sotto ci sono tutte le attivita presenti nel sistema</h2>
        </div>


        <div class="mdl-card__supporting-text">
          <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
            <thead>
            <tr>
              <th class="mdl-data-table__cell--non-numeric">Nome Attivita</th>
              <th>Categoria</th>
              <th>Tipologia</th>
              <th></th>
              <th></th>
            </tr>
            </thead>
            <tbody>
            <% @activities.each do |a| %>
                <tr>
                  <td class="mdl-data-table__cell--non-numeric"> <b><%= a.name %></b> </td>
                  <td> <%= match_category(a.category) %> </td>
                  <td> <%= match_a_type(a.a_type) %> </td>
                  <td><%= link_to 'Vedi', activity_path(a), class: 'mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' %> </td>
                  <td><%= link_to 'Elimina ', activity_path(a), method: 'delete',
                                  data: {confirm: 'Sei sicuro di voler eliminare l\'attivita\'? L\'attivita\' potrebbe essere gia\' stata assegnata ad un paziente!!!'},
                                  class: 'mdl-button mdl-button--accent mdl-js-button mdl-js-ripple-effect' %> </td>
                  </td>
                </tr>
            <% end %>
            </tbody>
          </table>
          <div class="mdl-layout-spacer"></div>
          <br>
          <%= button_to new_activity_path, class: 'mdl-button mdl-js-button mdl-button--raised mdl-button--colored', method: 'get' do %>
              Aggiungi una nuova attivita
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
